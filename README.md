LED Cube Designer (8x8x8)

This is a small React + Vite app to design frames for an 8x8x8 LED cube and export them as C arrays, header files, or Arduino sketches. It also includes a 3D preview and a Web Serial upload flow for compatible browsers.

Quick Start (Windows PowerShell)

1. Install dependencies:

```powershell
npm install
```

2. Run dev server:

```powershell
npm run dev
```

3. Open the printed URL (usually http://localhost:5173) in your browser (Chrome or Edge recommended for Web Serial).

Run tests:

```powershell
npm test
```

Overview — how to use

- Grid editing: The main editor edits the current 8x8 layer (layers 0..7). Use the layer controls to pick a layer and click cells to toggle LED columns.
- Frames & Timeline: Add, duplicate, delete frames and build an animation using the timeline tiles. Click tiles to jump to a frame.
- Playback: Use Play to preview your animation in the browser. Adjust the frame delay (ms).
- Export: Export as a C array, copy/download a `.h` file, or generate a simple Arduino `.ino` sketch template.
- Web Serial Upload: Connect to an Arduino-compatible device via the Web Serial API (Chrome/Edge). Click Connect, then Send — the app will ask for confirmation. The upload sequence is:
  - Open command: 70 bytes of `0xAD` (start)
  - For each frame: `0xF2` followed by 64 bytes (frame payload)
  - Close command: 70 bytes of `0xED` (end)

Help overlay & shortcuts

- Open the help overlay with the `?` button in the header or by pressing `H` / `?` on your keyboard.
- Close the overlay with `Esc`.
- Key shortcuts: `Space` toggles Play/Pause, `Left/Right` arrows navigate frames.

UI notes

- The app uses a non-blocking toast system for notifications (copy success, load errors, serial status), so you won't get blocking `alert()` popups.
- If you want visual help media (screenshots or GIFs), add them to `/assets/help/` and reference them in the overlay (the overlay includes a placeholder).

Export format details

- `framesToCArray` generates a C snippet in this shape:

```
// Generated by LED Cube Designer
#define NAME_FRAME_COUNT N
const byte NAME[N][64] = { ... };
```

- Frame mapping used by the exporter: index = 8\*y + x and bits represent the vertical (z) layers.

Arduino example

1. Save or copy the exported `.h` file (for example `MY_ANIMATION.h`) into your sketch folder.
2. Include and play frames in your sketch:

```cpp
#include "MY_ANIMATION.h"

void loop(){
	for(int i=0;i<MY_ANIMATION_FRAME_COUNT;i++){
		// funPrintCube is your cube driver function; adapt as needed
		funPrintCube((byte*)MY_ANIMATION[i]);
		delay(300);
	}
}
```

Developer notes

- Tests: run `npm test` (Vitest) to validate exporter utilities.
- Adding debug logs: the app intentionally avoids console spamming; if you want dev logs, I can add a small debug wrapper that toggles logging using an environment flag.

Where to put help assets

- Add screenshot/GIF assets under `assets/help/` (create the folder). The help overlay includes a placeholder and a short note on how to reference these files.

License & disclaimers

- This project is a personal/experimental tool — adapt and improve as needed. No warranties.
